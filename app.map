{"version":3,"sources":["js/setup.js","templates/app.js","templates/post.js","js/views/comments.js","js/app.js"],"sourcesContent":["var AppTemplates = {};\n","AppTemplates['app'] = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return \"<div class=\\\"comment\\\">\\n    <button class=\\\"add-new-comment\\\">Add Comment</button>\\n    <div class=\\\"new-comment-window\\\">\\n        <form>\\n            <label for=\\\"new-comment\\\">Comment</label>\\n            <textarea type=\\\"text\\\" class=\\\"new-comment\\\" placeholder=\\\"Add your comment here\\\"></textarea>\\n            <label for=\\\"email\\\">Email</label>\\n            <input type=\\\"text\\\" class=\\\"email\\\" placeholder=\\\"email\\\">\\n            <button>Submit</button>\\n        </form>\\n    </div>\\n    <div class=\\\"thread\\\">\\n        <ul class=\\\"comment-thread\\\">\\n\"\n    + ((stack1 = helpers.each.call(depth0,depth0,{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 1),\"inverse\":this.noop,\"data\":data})) != null ? stack1 : \"\")\n    + \"        </ul>\\n\\n    </div>\\n</div>\\n\";\n},\"useData\":true});","AppTemplates['post'] = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper, alias1=helpers.helperMissing, alias2=\"function\", alias3=this.escapeExpression;\n\n  return \"<p class=\\\"comment\\\">\"\n    + alias3(((helper = (helper = helpers.comment || (depth0 != null ? depth0.comment : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"comment\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n<p class=\\\"email\\\">\"\n    + alias3(((helper = (helper = helpers.email || (depth0 != null ? depth0.email : depth0)) != null ? helper : alias1),(typeof helper === alias2 ? helper.call(depth0,{\"name\":\"email\",\"hash\":{},\"data\":data}) : helper)))\n    + \"</p>\\n\";\n},\"useData\":true});","var Comment = Backbone.Model.extend({\n  idAttribute: '_id',\n  defaults: {\n    comment: '',\n    email: '',\n  },\n});\n\nvar CommentThread = Backbone.Collection.extend({\n  model: Comment,\n  url: 'http://tiny-lr.herokuapp.com/collections/bt-comments',\n});\n\n","var CommentView = Backbone.View.extend({\n  tagName: 'li',\n  template: AppTemplates.post,\n\n  initialize: function() {\n    this.listenTo(this.model, 'change', this.render);\n  },\n\n  render: function() {\n    var html = this.template(this.model.toJSON());\n    this.$el.html(html);\n\n    return this;\n  },\n});\n\nvar AppView = Backbone.View.extend({\n  template: AppTemplates.app,\n\n  el: '#target',\n\n  initialize: function() {\n    this.listenTo(this.collection, 'add reset sync', this.render);\n\n    this.render();\n    this.collection.fetch();\n  },\n\n  events: {\n    'submit form': 'addComment',\n    'click .add-new-comment': 'newComment',\n  },\n\n  render: function() {\n    var html = this.template(this.collection);\n    var _this = this;\n    this.$el.html(html);\n    this.collection.forEach(function(comment) {\n      var childView = new CommentView({model: comment});\n\n      _this.$el.find('.comment-thread')\n        .append(childView.render().$el);\n    });\n  },\n\n  addComment: function(ev) {\n    ev.preventDefault();\n\n    var comment = this.$el.find('.new-comment').val();\n    var email = this.$el.find('.email').val();\n    this.collection.create({comment: comment, email: email});\n    this.$el.find('.new-comment').val('');\n    this.$el.find('.email').val('');\n  },\n\n  newComment: function() {\n    this.$('.new-comment-window').slideDown();\n  },\n\n});\n\nvar comments = new CommentThread();\nvar app = new AppView({collection: comments});\n"],"names":[],"mappings":"AAAA;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;ACZA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;","file":"app.js"}